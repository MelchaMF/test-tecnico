<div class="formulario">
  <h1>Registro Clientes</h1>

  <forms [formGroup]="formulario" novalidate>

    <div class="row">
      <div class="col">
        <label for="nombre" class="form-label">Nombre</label>
        <input type="text" class="form-control" formControlName="nombre" [class.is-invalid]="f('nombre')" required
          placeholder="Escribe Nombre">
        <small class="text-danger" *ngIf="f('nombre')">* Este campo es obligatorio</small>

      </div>
      <div class="col">
        <label for="apellido" class="form-label">Apellidos</label>
        <input type="text" class="form-control" formControlName="apellido" [class.is-invalid]="f('apellido')" required
          placeholder="Escribe Apellido">
        <small class="text-danger" *ngIf="f('apellido')">* Este campo es obligatorio</small>
      </div>
    </div>

    <br>

    <div class="row">
      <div class="col">
        <label for="exampleInputEmail1" class="form-label">Correo</label>
        <input type="email" class="form-control" placeholder="Ejemplo@gmail.com" formControlName="correo"
          [class.is-invalid]="f('correo')" required>
        <small class="text-danger" *ngIf="f('correo')">* Este campo es obligatorio</small>
      </div>
      <div class="col">

        <label for="exampleInputTelefono" class="form-label">Tel√©fono</label>
        <input type="text" class="form-control" formControlName="telefono" maxlength="9" (keypress)="validarNum($event)"
          [class.is-invalid]="f('telefono')" placeholder="Telefono (+56)">
        <small class="text-danger" *ngIf="f('telefono')">* Este campo es obligatorio</small>
      </div>
    </div>

    <br>

    <div class="row">
      <div class="col">
        <span>Sexo</span><br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" formControlName="sexo" name="sexo" value="Masculino">
          <label class="form-check-label" for="inlineRadio1">Masculino</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" formControlName="sexo" name="sexo" id="inlineRadio2"
            value="Femenino">
          <label class="form-check-label" for="inlineRadio2">Femenino</label>
        </div>
        <small class="text-danger" *ngIf="f('sexo')">* Este campo es obligatorio</small>
      </div>
    </div>

    <br>

    <div class="d-flex gap-2 mb-3">
      <button type="submit" (click)="guardar()" [disabled]="formulario.invalid" class="btn btn-primary">Agregar
        Usuario</button>
      <br>
      <button class="btn btn-primary" [disabled]="!btnEditar" type="submit" (click)="modificar()"> Modificar </button>
    </div>
    <div class="alert alert-danger" role="alert" *ngIf="f('correo') || msj">
      Este correo ya existe
    </div>
  </forms>

  <!--div>Estado del formulario: {{ formulario.value | json }}</!--div-->
</div>
<br> <br>
<div class="tabla" *ngIf="tabla">
  <table class="table table-dark table-hover">
    <thead>
      <tr>
        <th scope="col"># ID</th>
        <th scope="col">Nombre</th>
        <th scope="col">Apellidop</th>
        <th scope="col">correo</th>
        <th scope="col">Telefono</th>
        <th scope="col">Sexo</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let per of Personas;">
        <th scope="row">{{per.uid+1}}</th>
        <td>{{per.nombre}}</td>
        <td>{{per.apellido}}</td>
        <td>{{per.correo}}</td>
        <td>+56 {{per.telefono}}</td>
        <td>{{per.sexo}}</td>
        <td>
          <div class="d-flex gap-2 mb-3">
            <button type="submit" (click)="eliminar(per.uid)" class="btn btn-table btn-outline-secondary">
              <img src="../../../assets/svg/borrar.svg" alt="Borrar">
            </button>
            <button type="submit" (click)="seleccionar(per.uid)" class="btn btn-table btn-outline-secondary">
              <img src="../../../assets/svg/seleccionar.svg" alt="Seleccionar">
            </button>
          </div>

        </td>
      </tr>
    </tbody>
  </table>
</div>
<hr>
